@(repoInfo: models.Repo)(contributors: Seq[Contributor])(commits: Seq[Commit])

@badgeImages(badges: Seq[Badge]) = {
	@for(badge <- badges) {
		<img width='40' height='40' src='@badge.image' title='@badge.name' />
	}
}

@contributor(contrib: models.Contributor) = {
	<li class="well span4">
		<img src="@contrib.avatar_url" width="50" height="50" style="float:left" />
		<div class="container span3" style="margin-left:10px;float:left">
			@contrib.badges.map { badges =>
				<img src='@routes.Assets.at("images/coderwall.png")' width="20" height="20" class="pull-right" rel="popover" data-content="@badgeImages(badges)" data-original-title="Coderwall Badges" />
			}
			<p><a href="@contrib.url" target="_blank">@contrib.login</a></p>
			<div class="progress progress-striped" title="Commits: @contrib.contributions">
			  <div class="bar" style="width: @contrib.contribPercent%"></div>
			</div>
		</div>
	</li>
}

@commit(commitData: models.Commit) = {
	<li class="span9 alert alert-info">
		<img src="@commitData.committer.avatar_url" width="50" height="50" style="float:left;margin-right:10px" /> 
		<p>
			<a href="@commitData.url(repoInfo)" target="_blank"><strong>@commitData.printedMessage</strong></a>
		</p>
		<p>
			@commitData.committer.login
			<small>&mdash; @commitData.prettyDate</small>
		</p>
	</li>
}

@application.main(Some(repoInfo.owner + "/" + repoInfo.name)) {

	<div class="container">
    
    <div class="span2" style="float:left;margin-left:0">
    	<h1>@repoInfo.name</h1>
	  	<p><i class="icon-chevron-right"></i>by @repoInfo.owner</p>
	  	<dl>
	  		<dt>Description</dt>
	  		<dd>@repoInfo.description</dd>
	  		<dt>Homepage</dt>
	  		<dd><a href="@repoInfo.homepage" target="_blank">@repoInfo.homepage</a></dd>
	  		<dt>Main Language</dt>
	  		<dd>@repoInfo.language</dd>
	  		<dt>Interact</dt>
		  	<dd>
		  		<iframe src="http://markdotto.github.com/github-buttons/github-btn.html?user=@repoInfo.owner&repo=@repoInfo.name&type=watch&count=true"
  allowtransparency="true" frameborder="0" scrolling="0" width="110px" height="20px"></iframe>
  				<iframe src="http://markdotto.github.com/github-buttons/github-btn.html?user=@repoInfo.owner&repo=@repoInfo.name&type=fork&count=true"
  allowtransparency="true" frameborder="0" scrolling="0" width="110px" height="20px"></iframe>
  			</dd>
  		</dl>
    </div>
    
    <div class="span10" style="float:left">
		  <ul class="nav nav-tabs">
				<li class="active"><a href="#contributors" data-toggle="tab">Contributors</a></li>
				<li><a href="#commits" data-toggle="tab">Commits</a></li>
				<li><a href="#stats" data-toggle="tab">Statistics</a></li>
			</ul>
		
			<div class="tab-content">
				<div class="tab-pane active" id="contributors">
					<ul class="unstyled">
					@for(contrib <- contributors) {
						@contributor(contrib)
					}
					</ul>
				</div>
				<div class="tab-pane" id="commits">
					<ul class="unstyled timeline">
					@for(commitData <- commits) {
						@commit(commitData)
					}
					</ul>
				</div>
				<div class="tab-pane" id="stats">
			
				</div>
			</div>
		</div>
  </div>
}
